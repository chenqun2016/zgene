/*此处仅处理因插件项目内报红显示的处理方式 start*/

//获取local.properties配置文件
def localProperties = new Properties()
def localPropertiesFile = rootProject.file('local.properties')
if (localPropertiesFile.exists()) {
    localPropertiesFile.withReader('UTF-8') { reader ->
        localProperties.load(reader)
    }
}
//获取flutter的sdk路径
def flutterRoot = localProperties.getProperty('flutter.sdk')
if (flutterRoot == null) {
    throw new GradleException("Flutter SDK not found. Define location with flutter.sdk in the local.properties file.")
}

/*此处仅处理因插件项目内报红显示的处理方式 end*/


group 'com.getui.getuiflut'
version '1.0-SNAPSHOT'
buildscript {
    repositories {
        google()
        jcenter()
        maven {
            url "https://mvn.getui.com/nexus/content/repositories/releases/"
        }
        maven {url 'http://developer.huawei.com/repo/'}
    }

    dependencies {
        classpath 'com.android.tools.build:gradle:4.2.1'
        classpath 'com.huawei.agconnect:agcp:1.6.0.300'
    }
}
rootProject.allprojects {
    repositories {
        //Maven URL地址
        maven {
            url "http://mvn.gt.getui.com/nexus/content/repositories/releases/"
        }
        maven {url 'http://developer.huawei.com/repo/'}
        jcenter()
        google()
    }
}
apply plugin: 'com.android.library'
android {
    compileSdkVersion 30
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    defaultConfig {
        minSdkVersion 17
        ndk {
            abiFilters "armeabi", "armeabi-v7a", "x86_64"
        }
    }
    
    lintOptions {
        disable 'InvalidPackage'
    }
}

dependencies {
    //此处仅处理因插件项目内报红显示的处理方式
    compileOnly files("$flutterRoot/bin/cache/artifacts/engine/android-arm/flutter.jar")
    compileOnly 'androidx.annotation:annotation:1.1.0'

    implementation 'org.jetbrains:annotations:15.0'
    implementation fileTree(include: ['*.jar'], dir: 'libs')
//    implementation 'com.getui:sdk-for-google-play:4.3.5.13'
    implementation 'com.getui:gtsdk:3.2.4.0'  //个推SDK
    implementation 'com.getui:gtc:3.1.6.0'  //个推核心组件


    // 根据所需厂商选择集成
    implementation 'com.getui.opt:hwp:3.1.0'   // 华为
    implementation 'com.getui.opt:xmp:3.0.3'   // 小米
    implementation 'com.assist-v3:oppo:3.0.2'  // oppo
    implementation 'com.assist-v3:vivo:3.0.5'  // vivo
    implementation 'com.getui.opt:mzp:3.1.0'   // 魅族
    implementation 'com.getui.opt:ups:3.0.2'   // ups，ups目前支持坚果，索尼，海信手机

//    implementation ('com.getui:hwp-v4:2.0.0'){
//        exclude group: 'com.getui', module: 'sdk'
//    }
//    implementation ('com.getui:mzp:1.0.7'){
//        exclude group: 'com.getui', module: 'sdk'
//    }
//    implementation ('com.assist:oppo:1.0.7'){
//        exclude group: 'com.getui', module: 'sdk'
//    }
//    implementation ('com.assist:vivo:1.0.6'){
//        exclude group: 'com.getui', module: 'sdk'
//    }
//    implementation ('com.getui:xmp:1.0.8'){
//        exclude group: 'com.getui', module: 'sdk'
//    }
    implementation 'com.huawei.hms:push:5.3.0.304'

}